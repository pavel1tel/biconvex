"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("effector"));function n(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var r=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.and=function(...e){return(0,t.combine)({and:[e,e=>{for(const t of e)if(!t)return!1;return!0},{skipVoid:!1}],or:{sid:"-rbm5ks"}})}})),o=n((function(e,n){function r(e){throw new Error(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.combineEvents=function(e){const n=function(e){return Object.keys(e).some((n=>!["events","reset","target"].includes(n)&&t.is.unit(e[n])))}(e)?{events:e}:e,{events:o,reset:i,target:s=(0,t.createEvent)({name:"target",sid:"p73fff"})}=n;t.is.unit(s)&&t.is.targetable(s)||r("target should be a targetable unit");i&&!t.is.unit(i)&&r("reset should be a unit");return(0,t.withRegion)(s,(()=>{const e=Object.keys(o),n=Array.isArray(o)?[...e].fill(""):{},r=(0,t.createStore)(e.length,{and:{serialize:"ignore"},name:"$counter",sid:"-ahoahx"}),a=(0,t.createStore)(n,{and:{serialize:"ignore"},name:"$results",sid:"oy8iyn"});(0,t.sample)({and:[{source:s,target:r.reinit}],or:{sid:"blex0c"}}),a.reset(s),i&&((0,t.sample)({and:[{source:i,target:r.reinit}],or:{sid:"bnm3fi"}}),a.reset(i));for(const n of e){const e=(0,t.createStore)(!1,{and:{serialize:"ignore"},name:"$isDone",sid:"-rf2fac"}).on(o[n],(()=>!0)).reset(s);i&&e.reset(i),r.on(e,(e=>e-1)),a.on(o[n],((e,t)=>{const r=Array.isArray(e)?[...e]:{...e};return r[n]=t,r}))}const c=(0,t.sample)({and:[{source:a,clock:[...Object.values(o)]}],or:{name:"eventsTrriggered",sid:"-lro8bq"}});(0,t.sample)({and:[{source:c,filter:r.map((e=>0===e),{skipVoid:!1}),target:s}],or:{sid:"-dlkr2s"}})})),s}})),i=n((function(e,n){function r(e){return t.is.unit(e)?e.map((e=>!e),{skipVoid:!1}):t=>!e(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.condition=function({if:e,then:n,else:o,source:i=(0,t.createEvent)({name:"source",sid:"tdyoa4"})}){const s=t.is.unit(e)||(a=e,"function"==typeof a)?e:t=>t===e;var a;n&&o?(0,t.split)({and:[{source:i,match:{then:s,else:r(s)},cases:{then:n,else:o}}],or:{sid:"aaw2hr"}}):n?(0,t.sample)({and:[{source:i,filter:s,target:n}],or:{sid:"-dwrmbb"}}):o&&(0,t.sample)({and:[{source:i,filter:r(s),target:o}],or:{sid:"-dsx25s"}});return i}})),s=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.debounce=function(...e){var n;const r=2===e.length?{source:e[0],timeout:e[1]}:e[0],{source:o,timeout:i,target:s,name:a}=r;if(!t.is.unit(o))throw new TypeError("source must be unit from effector");if(t.is.domain(o,{sid:"jsc7s2"}))throw new TypeError("source cannot be domain");const c=function(e){if(t.is.store(e,{sid:"-21qm2b"}))return e;if("number"==typeof e){if(e<0||!Number.isFinite(e))throw new Error(`timeout must be positive number or zero. Received: "${e}"`);return(0,t.createStore)(e,{and:{name:"$timeout"},sid:"kbepy4"})}throw new TypeError(`timeout parameter in interval method should be number or Store. "${typeof e}" was passed`)}(i),u=(0,t.createEvent)({name:"saveCancel",sid:"-kec0n3"}),d=(0,t.createStore)([],{and:{serialize:"ignore"},name:"$canceller",sid:"-tfm9fg"}).on(u,((e,t)=>t)),l=null!==(n=s)&&void 0!==n?n:(0,t.createEvent)({name:"tick",sid:"-50e2rn"}),f=(0,t.attach)({and:{name:a||`debounce(${o?.shortName||o.kind}) effect`,source:d,effect:([e,t],n)=>(e&&clearTimeout(e),t&&t(),new Promise(((e,t)=>{u([setTimeout(e,n),t])})))},or:{name:"timerFx",sid:"-jwso4j"}});d.reset(f.done);const p=(0,t.createStore)([],{and:{serialize:"ignore",skipVoid:!1},name:"$payload",sid:"-x9cllg"}).on(o,((e,t)=>[t])),m=(0,t.createStore)(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"8r2952"}),y=(0,t.createEvent)({name:"triggerTick",sid:"-781myl"});m.on(y,(()=>!1)).on([l,c,f],(()=>!0));const g=(0,t.merge)([o,(0,t.sample)({and:[{clock:c,filter:f.pending}],or:{name:"requestTick",sid:"-khrpxp"}})],{name:"requestTick",sid:"2k0852"});return(0,t.sample)({and:[{clock:g,filter:m,target:y}],or:{sid:"-31h8q8"}}),(0,t.sample)({and:[{source:c,clock:y,target:f}],or:{sid:"-2y6h62"}}),(0,t.sample)({and:[{source:p,clock:f.done,fn:([e])=>e,target:l}],or:{sid:"-2jc15b"}}),l}})),a=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.debug=o;const r={trace:!1,handler:e=>{if(g(e.node)&&"finally"===e.node.meta.named)return;const{scope:t,scopeName:n,name:r,kind:o,value:i,loc:s,trace:a,node:c,logType:u}=e,d=t?` (scope: ${n})`:"",l=null!=r?r:s?`${s.file}:${s.line}:${s.column}`:"",f="initial"===u?" [getState]":"";console.info(`[${o}]${d} ${l}${f}`,i),a&&a.length>0&&!g(c)&&(console.groupCollapsed(`[${o}]${d} ${l} trace`),a.forEach((e=>{const{name:t,kind:n,value:r,loc:o}=e,i=null!=t?t:o?`${o.file}:${o.line}:${o.column}`:"";console.info(`<- [${n}] ${i}`,r)})),console.groupEnd())}};function o(...e){const{config:n,units:o}=function(...e){let n=r;const[o,...i]=e,s=[];if(function(e){if(!t.is.unit(e))return!Object.values(e).every(t.is.unit);return!1}(o))n={...r,...o};else if(t.is.unit(o))s.push(o);else for(const[e,t]of Object.entries(o))b.set(v(t).id,e),s.push(t);for(const e of i)if(t.is.unit(e))s.push(e);else for(const[t,n]of Object.entries(e))b.set(v(n).id,t),s.push(n);return{config:n,units:s}}(...e);o.forEach((e=>{t.is.store(e,{sid:"-foynff"})||t.is.event(e,{sid:"apy28p"})||t.is.effect(e,{sid:"apy3od"})?s(e,n):t.is.domain(e,{sid:"-rsqe9t"})&&i(e,n)}))}function i(e,t){e.onCreateStore((e=>s(e,t))),e.onCreateEvent((e=>s(e,t))),e.onCreateEffect((e=>s(e,t))),e.onCreateDomain((e=>i(e,t)))}function s(e,n){t.is.store(e,{sid:"w7ds2s"})?(!function(e,t){if(!t.handler)throw Error("patronum/debug must have the handler");const n={logType:"initial",scope:null,scopeName:null,node:j(e),kind:h(e),value:e.getState(),name:k(e),loc:_(e),trace:[],stackMeta:{}};t.handler(n),m.forEach((n=>u(e,t,n))),l((n=>u(e,t,n)))}(e,n),a(e,n)):t.is.event(e,{sid:"fretyd"})?a(e,n):t.is.effect(e,{sid:"gpi2qr"})&&(a(e,n),a(e.finally,n),a(e.done,n),a(e.fail,n))}function a(e,n){const r=(0,t.createNode)({parent:[e],meta:{op:"watch"},family:{owners:e},regional:!0,node:[t.step.run({fn(t,r,o){var i;const s=null!==(i=o?.scope)&&void 0!==i?i:null,a={logType:"update",scope:s,scopeName:y(s),node:j(e),kind:h(e),value:t,name:k(e),loc:_(e),stackMeta:$(o.parent),trace:n.trace?c(o):[]};if(!n.handler)throw Error("patronum/debug must have the handler");n.handler(a)}})]});return()=>(0,t.clearNode)(r)}function c(e){const t=[];let n=e?.parent;for(;n;){const{node:e,value:r}=n,o={node:e,value:r,name:k(e),loc:_(e),kind:h(e),stackMeta:$(n)};t.push(o),n=n.parent}return t}function u(e,t,n){if(!t.handler)throw Error("patronum/debug must have the handler");const r=j(e),o={logType:"initial",scope:n,scopeName:y(n),node:r,kind:h(e),value:n.getState(e),name:k(e),loc:_(e),trace:[],stackMeta:{}};t.handler(o)}const d=new Set,l=e=>(d.add(e),()=>{d.delete(e)});let f=0;const p=new Map,m={save(e,t){m.get(e)||p.set(e,t)},get(e){var t;return e&&null!==(t=p.get(e))&&void 0!==t?t:null},delete(e){p.delete(e)},forEach(e){p.forEach(((t,n)=>e(n,t)))},clear(){p.clear()}};function y(e){if(!e)return null;const t=m.get(e);if(!t){return e._debugId||(e._debugId=(f+=1,`unknown_${f}`))}return t.name}function g(e){const t=j(e),{sid:n,named:r}=t.meta;return Boolean(!n&&("finally"===r||"done"===r||"doneData"===r||"fail"===r||"failData"===r||"inFlight"===r||"pending"===r))}function h(e){if(t.is.store(e,{sid:"4o7s04"}))return"store";if(t.is.effect(e,{sid:"4pv5s7"})||g(e))return"effect";if(t.is.event(e,{sid:"4rijka"}))return"event";if(t.is.domain(e,{sid:"54plsy"}))return"domain";if(t.is.unit(e))return"unit";const n=j(e);return n.meta.op?n.meta.op:"unknown"}o.registerScope=function(e,t){return m.save(e,{name:t.name}),d.forEach((t=>t(e))),()=>{m.delete(e)}},o.unregisterAllScopes=function(){m.clear()};const v=e=>e.graphite||e,b=new Map;function k(e){const n=b.get(v(e).id);if(n)return n;if(g(e)){const t=j(e),n=t.family.owners.find((e=>"effect"===e.meta.op));if(n){const e=w(n);return`${e?`${e}/`:""}${k(n)}.${t.meta.named}`}return t.meta.named}if(function(e){const t=j(e),{op:n}=t.meta;return"on"===n}(e)){const t=j(e);return`${k(t.next[0])}.on(${k(t.family.owners[0])})`}if(t.is.unit(e)){if(e?.compositeName?.fullName)return e.compositeName.fullName;const t=w(e),n=t?`${t}/`:"";if(e?.shortName)return`${n}${e.shortName}`;if(e?.name)return`${n}${e.name}`}return j(e)?.meta?.name?j(e).meta.name:null}function w(e){const t=j(e).family.owners.find((e=>"domain"===e.meta.op));return t?k(t):null}function _(e){const t=function({meta:e}){return"config"in e?e.config.loc:e.loc}(j(e));if(t)return t}function j(e){return"graphite"in e?e.graphite:e}function $(e){if(!e)return{};return e.meta||{}}})),c=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.delay=function(...e){const n=2===e.length?{source:e[0],timeout:e[1]}:e[0],{source:r,timeout:o,target:i=(0,t.createEvent)({name:"target",sid:"jucb8d"})}=n,s=Array.isArray(i)?i:[i];if(!t.is.unit(r))throw new TypeError("source must be a unit from effector");if(!s.every((e=>t.is.unit(e))))throw new TypeError("target must be a unit from effector");const a=function(e){if(t.is.store(e,{sid:"-tvk3f2"})||"function"==typeof e||"number"==typeof e)return e;throw new TypeError(`'timeout' argument must be a function, Store, or a number. Passed "${typeof e}"`)}(o),c=(0,t.createEffect)((({payload:e,milliseconds:t})=>new Promise((n=>{setTimeout(n,t,e)}))),{name:"timerFx",sid:"-wp3hwr"});return(0,t.sample)({and:[{source:(0,t.combine)({and:[{milliseconds:a}],or:{name:"source",sid:"-gaikyz"}}),clock:r,fn:({milliseconds:e},t)=>({payload:t,milliseconds:"function"==typeof e?e(t):e}),target:c}],or:{sid:"-uuqxfw"}}),(0,t.sample)({and:[{clock:c.doneData,target:s}],or:{sid:"-uc1x9m"}}),i}})),u=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.either=function e(n,r,o){if(t.is.store(n,{sid:"ozzvoc"}))return(0,t.combine)({and:[n,r,o,(e,t,n)=>e?t:n,{skipVoid:!1}],or:{sid:"-5vau2h"}});const i=n;return e(i.filter,i.then,i.other)}})),d=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.empty=function(e){return e.map((e=>null==e),{skipVoid:!1})}})),l=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.equals=function(e,n){return(0,t.combine)({and:[e,n,(e,t)=>e===t,{skipVoid:!1}],or:{sid:"-pqjlti"}})}})),f=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.every=function(e,n){let r,o=[],i=()=>!1;Array.isArray(e)?(o=e,i=n):Array.isArray(e.stores)&&(o=e.stores,i=e.predicate);s=i,r="function"==typeof s?i:t.is.store(i,{sid:"sid3ut"})?i.map((e=>t=>e===t),{skipVoid:!1}):e=>e===i;var s;const a=(0,t.combine)({and:[o],or:{name:"$values",sid:"rwb5jx"}}),c=r;return(0,t.combine)({and:[c,a,(e,t)=>t.every(e),{skipVoid:!1}],or:{sid:"hgnz2z"}})}})),p=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.format=function(e,...n){return(0,t.combine)({and:[n,t=>e.reduce(((n,r,o)=>n.concat(function(e,t){return t===e.length-1}(e,o)?r:`${r}${function(e){if(Array.isArray(e))return e.map((e=>String(e))).join(", ");return String(e)}(t[o])}`)),""),{skipVoid:!1}],or:{sid:"-yrbthp"}})}})),m=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.inFlight=function(e){const n=Array.isArray(e)?{effects:e}:e,{effects:r,domain:o}=n;if(o){const e=o.createStore(0,{name:"$inFlight",sid:"-wboyn1"});return o.onCreateEffect((t=>{e.on(t,(e=>e+1)).on(t.finally,(e=>e-1))})),e}return(0,t.combine)({and:[r.map((e=>e.inFlight)),e=>e.reduce(((e,t)=>e+t),0),{skipVoid:!1}],or:{sid:"udy3nn"}})}})),y=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.interval=function({timeout:e,start:n,stop:r,leading:o=!1,trailing:i=!1}){const s=(0,t.createEvent)({name:"setup",sid:"-ajee8b"});n&&(0,t.sample)({and:[{clock:n,target:s}],or:{sid:"-wq30tc"}});const a=(0,t.createEvent)({name:"teardown",sid:"-on6wf8"});r&&(0,t.sample)({and:[{clock:r,target:a}],or:{sid:"-wloo2g"}});const c=(0,t.createEvent)({name:"tick",sid:"37avek"}),u=(0,t.createStore)(!1,{name:"$isRunning",sid:"amqfro"}),d=function(e){if(t.is.store(e,{sid:"90rxd3"}))return e;if("number"==typeof e)return(0,t.createStore)(e,{and:{name:"$timeout"},sid:"-3ibdj9"});throw new TypeError(`timeout parameter in interval method should be number or Store. "${typeof e}" was passed`)}(e),l=u.map((e=>!e),{skipVoid:!1}),f=(0,t.createEvent)({name:"saveTimeout",sid:"-goth3o"}),p=(0,t.createStore)(null,{name:"$timeoutId",sid:"xi134t"}).on(f,((e,{timeoutId:t})=>t)),m=(0,t.createStore)((()=>{}),{name:"$rejecter",sid:"-2am6sk"}).on(f,((e,{reject:t})=>t)),y=(0,t.attach)({and:{source:{timeout:d,running:u},effect:({timeout:e,running:t})=>t?new Promise(((t,n)=>{const r=setTimeout(t,e);f({timeoutId:r,reject:n})})):Promise.reject()},or:{name:"timeoutFx",sid:"-hiem3q"}}),g=(0,t.attach)({and:{source:{timeoutId:p,rejecter:m},effect:({timeoutId:e,rejecter:t})=>{t(),e&&clearTimeout(e)}},or:{name:"cleanupFx",sid:"d148gq"}});if((0,t.sample)({and:[{clock:s,source:d,filter:l,target:y}],or:{sid:"-u9k5bx"}}),o){const e=(0,t.sample)({and:[{clock:s,filter:l}],or:{name:"onReady",sid:"5o8c6v"}});(0,t.sample)({and:[{clock:e,target:c}],or:{sid:"6njtce"}})}(0,t.sample)({and:[{clock:s,fn:()=>!0,target:u}],or:{sid:"6p772r"}}),(0,t.sample)({and:[{clock:y.done,source:d,filter:u,target:y}],or:{sid:"741n3i"}}),(0,t.sample)({and:[{clock:y.done,filter:u,target:c.prepend((()=>{}))}],or:{sid:"7jfvpm"}}),i&&(0,t.sample)({and:[{clock:a,target:c}],or:{sid:"7zxpk6"}});return u.on(a,(()=>!1)),(0,t.sample)({and:[{clock:a,target:g}],or:{sid:"84c29c"}}),{tick:c,isRunning:u,"@@trigger":()=>({setup:s,teardown:a,fired:c})}}})),g=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.not=function(e){return e.map((e=>!e),{skipVoid:!1})}})),h=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.once=function(e){let n,r;t.is.unit(e)?n=e:({source:n,reset:r}=e);const o=(0,t.createStore)(!0,{name:"$canTrigger",sid:"ys2jl0"}),i=(0,t.sample)({and:[{source:n,filter:o}],or:{name:"trigger",sid:"e3xto3"}});o.on(i,(()=>!1)),r&&o.reset(r);return i}})),v=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.or=function(...e){return(0,t.combine)({and:[e,e=>{for(const t of e)if(t)return!0;return!1},{skipVoid:!1}],or:{sid:"-44722k"}})}})),b=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pending=function(e){const n=Array.isArray(e)?{effects:e}:e,{effects:o,domain:i,of:s="some"}=n;if(!t.is.domain(i,{sid:"98ymuf"})&&!o)throw new TypeError("domain or effects should be passed");if("some"!==s&&"every"!==s)throw new TypeError(`strategy parameter "of" can be "every" or "some". Passed: "${s}"`);let a=null!=o?o:[];const c=r[s];i&&(a=[],i.onCreateEffect((e=>a.push(e))));return(0,t.combine)({and:[a.map((e=>e.pending)),c,{skipVoid:!1}],or:{sid:"a4upb3"}})};const r={some:e=>e.some(Boolean),every:e=>e.every(Boolean)}})),k=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.previous=function(...e){const[n]=e,r=e.length<2?null:e[1];if(!t.is.store(n,{sid:"mzq5dc"}))throw Error("previous first argument should be a store");const o=(0,t.createStore)(r,{and:{serialize:"ignore",skipVoid:!1},name:"$prevValue",sid:"e05yob"});return n.graphite.seq.push(t.step.compute({fn:(e,n,r)=>((0,t.launch)({target:o,params:r.a,defer:!0}),e)})),o}})),w=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.readonly=function(e){if(!t.is.targetable(e))return e;if(t.is.store(e,{sid:"-kqkmsc"}))return e.map((e=>e),{skipVoid:!1});if(t.is.event(e,{sid:"-kodgew"}))return e.map((e=>e));return e}})),_=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.reset=function({clock:e,target:n}){const r=Array.isArray(n)?n:[n],o=Array.isArray(e)?e:[null!=e?e:(0,t.createEvent)({name:"clocks",sid:"bqmea5"})];return r.forEach((e=>{e.reset(o)})),void 0===e?o[0]:void 0}})),j=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=function({source:e,shape:t}){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r];n[r]=e.map((e=>{const t=o(e);return void 0===t?null:t}),{skipVoid:!1})}return n}})),$=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.snapshot=function({source:e,clock:n,fn:r=(e=>e)}){const o=r(e.defaultState),i=n?(0,t.sample)({and:[{source:e,clock:n,fn:r}],or:{name:"onSnapshot",sid:"-imuiws"}}):(0,t.sample)({and:[{source:e,fn:r}],or:{name:"onSnapshot",sid:"-imaqbf"}}),s=(0,t.createStore)(o,{name:"$snapshot",sid:"-63s6pn"});return s.on(i,((e,t)=>t)),s}})),x=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.some=function(e,n){let r,o=[],i=()=>!1;Array.isArray(e)?(o=e,i=n):Array.isArray(e.stores)&&(o=e.stores,i=e.predicate);s=i,r="function"==typeof s?i:t.is.store(i,{sid:"zbwu0l"})?i.map((e=>t=>e===t),{skipVoid:!1}):e=>e===i;var s;const a=(0,t.combine)({and:[o],or:{name:"$values",sid:"-kx24vm"}}),c=r;return(0,t.combine)({and:[c,a,(e,t)=>t.some(e),{skipVoid:!1}],or:{sid:"-ee8kph"}})}})),E=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.splitMap=function({source:e,cases:n}){const r={};let o=t.is.store(e,{name:"current",sid:"-htjkz7"})?e.updates:e;for(const e in n)if(e in n){const t=n[e];r[e]=o.filterMap(t),o=o.filter({fn:e=>!t(e)})}return r.__=o,r}})),M=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.spread=function(e){const n=function(e){return Object.keys(e).some((n=>!["targets","source"].includes(n)&&t.is.unit(e[n])))}(e)?{targets:e}:e,{targets:o,source:i=(0,t.createEvent)({name:"source",sid:"e9ipnn"})}=n;for(const e in o)if(s=o,a=e,r.call(s,a)){const n=o[e],r=(0,t.sample)({and:[{source:i,batch:!1,filter:t=>"object"==typeof t&&null!==t&&e in t}],or:{name:"hasTargetKey",sid:"eapc0z"}});(0,t.sample)({and:[{batch:!1,clock:r,fn:t=>t[e],target:n}],or:{sid:"mkzcy4"}})}var s,a;return i};const r={}.hasOwnProperty})),O=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.status=function(e){const{effect:n,defaultValue:r="initial"}=t.is.effect(e,{sid:"cn6w5b"})?{effect:e}:e,o=(0,t.createStore)(r,{name:"$status",sid:"ph7d4u"});if(!t.is.effect(n,{sid:"-kp39vu"}))throw TypeError('status: "effect" property is not an effect');return o.on(n,(()=>"pending")).on(n.done,(()=>"done")).on(n.fail,(()=>"fail")),o}})),P=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.throttle=function(...e){const n=2===e.length?{source:e[0],timeout:e[1]}:e[0],{source:r,timeout:o,target:i=(0,t.createEvent)({name:"target",sid:"-gyhb56"})}=n;if(!t.is.unit(r))throw new TypeError("source must be unit from effector");const s=function(e){if(t.is.store(e,{sid:"-gj92sk"}))return e;if("number"==typeof e){if(e<0||!Number.isFinite(e))throw new Error(`timeout must be positive number or zero. Received: "${e}"`);return(0,t.createStore)(e,{and:{name:"$timeout"},sid:"-2ktcsz"})}throw new TypeError(`timeout parameter should be number or Store. "${typeof e}" was passed`)}(o),a=(0,t.createEffect)({name:`throttle(${r.shortName||r.kind}) effect`,handler:e=>new Promise((t=>setTimeout(t,e)))},{name:"timerFx",sid:"-lp5bot"}),c=(0,t.createStore)(null,{and:{serialize:"ignore",skipVoid:!1},name:"$payload",sid:"w71tnu"}).on(r,((e,t)=>t)),u=(0,t.createEvent)({name:"triggerTick",sid:"-dquigt"}),d=(0,t.createStore)(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"e2dxhp"}).on(u,(()=>!1)).on(i,(()=>!0));return(0,t.sample)({and:[{clock:r,filter:d,target:u}],or:{sid:"-hifwv4"}}),(0,t.sample)({and:[{source:s,clock:u,target:a}],or:{sid:"-h3lgud"}}),(0,t.sample)({and:[{source:c,clock:a.done,target:i}],or:{sid:"-h0apa7"}}),i}})),S=n((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.time=function(e){const n=t.is.unit(e)?{clock:e}:e,{clock:o,getNow:i,initial:s}=n,a=null!=i?i:r,c=(0,t.createEffect)(a,{name:"readNowFx",sid:"ito90c"}),u=(0,t.restore)(c,null!=s?s:a(),{name:"$time",sid:"-k3vl4d"});return(0,t.sample)({and:[{clock:o,target:c}],or:{sid:"rul0o2"}}),u};const r=()=>Date.now()})),T=r.and,q=o.combineEvents,A=i.condition,z=s.debounce,V=a.debug,N=c.delay,F=u.either,C=d.empty,D=l.equals,I=f.every,R=p.format,B=m.inFlight,K=y.interval,G=g.not,H=h.once,J=v.or,L=b.pending,Q=k.previous,U=w.readonly,W=_.reset,X=j.reshape,Y=$.snapshot,Z=x.some,ee=E.splitMap,te=M.spread,ne=O.status,re=P.throttle,oe=S.time,ie={and:T,combineEvents:q,condition:A,debounce:z,debug:V,delay:N,either:F,empty:C,equals:D,every:I,format:R,inFlight:B,interval:K,not:G,once:H,or:J,pending:L,previous:Q,readonly:U,reset:W,reshape:X,snapshot:Y,some:Z,splitMap:ee,spread:te,status:ne,throttle:re,time:oe};exports.and=T,exports.combineEvents=q,exports.condition=A,exports.debounce=z,exports.debug=V,exports.default=ie,exports.delay=N,exports.either=F,exports.empty=C,exports.equals=D,exports.every=I,exports.format=R,exports.inFlight=B,exports.interval=K,exports.not=G,exports.once=H,exports.or=J,exports.pending=L,exports.previous=Q,exports.readonly=U,exports.reset=W,exports.reshape=X,exports.snapshot=Y,exports.some=Z,exports.splitMap=ee,exports.spread=te,exports.status=ne,exports.throttle=re,exports.time=oe;
//# sourceMappingURL=patronum.cjs.map
