import{combine as e,createEvent as r,is as t,withRegion as n,createStore as o,sample as i,split as a,attach as c,merge as s,createNode as u,step as d,clearNode as f,createEffect as l,launch as m,restore as p}from"effector";function v(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return e({and:[t,e=>{for(var r of e)if(!r)return!1;return!0},{skipVoid:!1}],or:{sid:"-rbm5ks"}})}function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function h(e){var a=function(e){return Object.keys(e).some((r=>!["events","reset","target"].includes(r)&&t.unit(e[r])))}(e)?{events:e}:e,{events:c,reset:s,target:u=r({name:"target",sid:"p73fff"})}=a;return t.unit(u)&&t.targetable(u)||b("target should be a targetable unit"),s&&!t.unit(s)&&b("reset should be a unit"),n(u,(()=>{var e=Object.keys(c),r=Array.isArray(c)?[...e].fill(""):{},t=o(e.length,{and:{serialize:"ignore"},name:"$counter",sid:"-ahoahx"}),n=o(r,{and:{serialize:"ignore"},name:"$results",sid:"oy8iyn"});i({and:[{source:u,target:t.reinit}],or:{sid:"blex0c"}}),n.reset(u),s&&(i({and:[{source:s,target:t.reinit}],or:{sid:"bnm3fi"}}),n.reset(s));var a=function(e){var r=o(!1,{and:{serialize:"ignore"},name:"$isDone",sid:"-rf2fac"}).on(c[e],(()=>!0)).reset(u);s&&r.reset(s),t.on(r,(e=>e-1)),n.on(c[e],((r,t)=>{var n=Array.isArray(r)?[...r]:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},r);return n[e]=t,n}))};for(var d of e)a(d);var f=i({and:[{source:n,clock:[...Object.values(c)]}],or:{name:"eventsTrriggered",sid:"-lro8bq"}});i({and:[{source:f,filter:t.map((e=>0===e),{skipVoid:!1}),target:u}],or:{sid:"-dlkr2s"}})})),u}function b(e){throw new Error(e)}function k(e){var{if:n,then:o,else:c,source:s=r({name:"source",sid:"tdyoa4"},{name:"source",sid:"tdyoa4"})}=e,u=t.unit(n)||"function"==typeof n?n:e=>e===n;return o&&c?a({and:[{source:s,match:{then:u,else:w(u)},cases:{then:o,else:c}}],or:{sid:"aaw2hr"}}):o?i({and:[{source:s,filter:u,target:o}],or:{sid:"-dwrmbb"}}):c&&i({and:[{source:s,filter:w(u),target:c}],or:{sid:"-dsx25s"}}),s}function w(e){return t.unit(e)?e.map((e=>!e),{skipVoid:!1}):r=>!e(r)}function j(){var e,n=2===arguments.length?{source:arguments.length<=0?void 0:arguments[0],timeout:arguments.length<=1?void 0:arguments[1]}:arguments.length<=0?void 0:arguments[0],{source:a,timeout:u,target:d,name:f}=n;if(!t.unit(a))throw new TypeError("source must be unit from effector");if(t.domain(a,{sid:"jsc7s2"}))throw new TypeError("source cannot be domain");var l=O(u),m=r({name:"saveCancel",sid:"-kec0n3"}),p=o([],{and:{serialize:"ignore"},name:"$canceller",sid:"-tfm9fg"}).on(m,((e,r)=>r)),v=null!==(e=d)&&void 0!==e?e:r({name:"tick",sid:"-50e2rn"}),g=c({and:{name:f||"debounce(".concat((null==a?void 0:a.shortName)||a.kind,") effect"),source:p,effect(e,r){var[t,n]=e;return t&&clearTimeout(t),n&&n(),new Promise(((e,t)=>{m([setTimeout(e,r),t])}))}},or:{name:"timerFx",sid:"-jwso4j"}});p.reset(g.done);var y=o([],{and:{serialize:"ignore",skipVoid:!1},name:"$payload",sid:"-x9cllg"}).on(a,((e,r)=>[r])),h=o(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"8r2952"}),b=r({name:"triggerTick",sid:"-781myl"});h.on(b,(()=>!1)).on([v,l,g],(()=>!0));var k=s([a,i({and:[{clock:l,filter:g.pending}],or:{name:"requestTick",sid:"-khrpxp"}})],{name:"requestTick",sid:"2k0852"});return i({and:[{clock:k,filter:h,target:b}],or:{sid:"-31h8q8"}}),i({and:[{source:l,clock:b,target:g}],or:{sid:"-2y6h62"}}),i({and:[{source:y,clock:g.done,fn:e=>{var[r]=e;return r},target:v}],or:{sid:"-2jc15b"}}),v}function O(e){if(t.store(e,{sid:"-21qm2b"}))return e;if("number"==typeof e){if(e<0||!Number.isFinite(e))throw new Error('timeout must be positive number or zero. Received: "'.concat(e,'"'));return o(e,{and:{name:"$timeout"},sid:"kbepy4"})}throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){P(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function P(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var A={trace:!1,handler:e=>{if(!B(e.node)||"finally"!==e.node.meta.named){var{scope:r,scopeName:t,name:n,kind:o,value:i,loc:a,trace:c,node:s,logType:u}=e,d=r?" (scope: ".concat(t,")"):"",f=null!=n?n:a?"".concat(a.file,":").concat(a.line,":").concat(a.column):"",l="initial"===u?" [getState]":"";console.info("[".concat(o,"]").concat(d," ").concat(f).concat(l),i),c&&c.length>0&&!B(s)&&(console.groupCollapsed("[".concat(o,"]").concat(d," ").concat(f," trace")),c.forEach((e=>{var{name:r,kind:t,value:n,loc:o}=e,i=null!=r?r:o?"".concat(o.file,":").concat(o.line,":").concat(o.column):"";console.info("<- [".concat(t,"] ").concat(i),n)})),console.groupEnd())}}};function S(){var{config:e,units:r}=N(...arguments);r.forEach((r=>{t.store(r,{sid:"-foynff"})||t.event(r,{sid:"apy28p"})||t.effect(r,{sid:"apy3od"})?z(r,e):t.domain(r,{sid:"-rsqe9t"})&&x(r,e)}))}function x(e,r){e.onCreateStore((e=>z(e,r))),e.onCreateEvent((e=>z(e,r))),e.onCreateEffect((e=>z(e,r))),e.onCreateDomain((e=>x(e,r)))}function z(e,r){t.store(e,{sid:"w7ds2s"})?(!function(e,r){if(!r.handler)throw Error("patronum/debug must have the handler");var t={logType:"initial",scope:null,scopeName:null,node:U(e),kind:K(e),value:e.getState(),name:J(e),loc:Q(e),trace:[],stackMeta:{}};r.handler(t),R.forEach((t=>q(e,r,t))),C((t=>q(e,r,t)))}(e,r),V(e,r)):t.event(e,{sid:"fretyd"})?V(e,r):t.effect(e,{sid:"gpi2qr"})&&(V(e,r),V(e.finally,r),V(e.done,r),V(e.fail,r))}function V(e,r){var t=u({parent:[e],meta:{op:"watch"},family:{owners:e},regional:!0,node:[d.run({fn(t,n,o){var i,a=null!==(i=null==o?void 0:o.scope)&&void 0!==i?i:null,c={logType:"update",scope:a,scopeName:_(a),node:U(e),kind:K(e),value:t,name:J(e),loc:Q(e),stackMeta:W(o.parent),trace:r.trace?$(o):[]};if(!r.handler)throw Error("patronum/debug must have the handler");r.handler(c)}})]});return()=>f(t)}function $(e){for(var r=[],t=null==e?void 0:e.parent;t;){var{node:n,value:o}=t,i={node:n,value:o,name:J(n),loc:Q(n),kind:K(n),stackMeta:W(t)};r.push(i),t=t.parent}return r}function q(e,r,t){if(!r.handler)throw Error("patronum/debug must have the handler");var n=U(e),o={logType:"initial",scope:t,scopeName:_(t),node:n,kind:K(e),value:t.getState(e),name:J(e),loc:Q(e),trace:[],stackMeta:{}};r.handler(o)}function N(){for(var e=A,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var[i,...a]=n,c=[];if(D(i))e=T(T({},A),i);else if(t.unit(i))c.push(i);else for(var[s,u]of Object.entries(i))H.set(G(u).id,s),c.push(u);for(var d of a)if(t.unit(d))c.push(d);else for(var[f,l]of Object.entries(d))H.set(G(l).id,f),c.push(l);return{config:e,units:c}}function D(e){return!t.unit(e)&&!Object.values(e).every(t.unit)}var F=new Set,C=e=>(F.add(e),()=>{F.delete(e)});var I=0;var M=new Map,R={save(e,r){R.get(e)||M.set(e,r)},get(e){var r;return e&&null!==(r=M.get(e))&&void 0!==r?r:null},delete(e){M.delete(e)},forEach(e){M.forEach(((r,t)=>e(t,r)))},clear(){M.clear()}};function _(e){if(!e)return null;var r=R.get(e);return r?r.name:e._debugId||(e._debugId="unknown_".concat(I+=1))}function B(e){var r=U(e),{sid:t,named:n}=r.meta;return Boolean(!t&&("finally"===n||"done"===n||"doneData"===n||"fail"===n||"failData"===n||"inFlight"===n||"pending"===n))}function K(e){if(t.store(e,{sid:"4o7s04"}))return"store";if(t.effect(e,{sid:"4pv5s7"})||B(e))return"effect";if(t.event(e,{sid:"4rijka"}))return"event";if(t.domain(e,{sid:"54plsy"}))return"domain";if(t.unit(e))return"unit";var r=U(e);return r.meta.op?r.meta.op:"unknown"}S.registerScope=function(e,r){return R.save(e,{name:r.name}),F.forEach((r=>r(e))),()=>{R.delete(e)}},S.unregisterAllScopes=function(){R.clear()};var G=e=>e.graphite||e,H=new Map;function J(e){var r,n,o=H.get(G(e).id);if(o)return o;if(B(e)){var i=U(e),a=i.family.owners.find((e=>"effect"===e.meta.op));if(a){var c=L(a),s=c?"".concat(c,"/"):"";return"".concat(s).concat(J(a),".").concat(i.meta.named)}return i.meta.named}if(function(e){var r=U(e),{op:t}=r.meta;return"on"===t}(e)){var u=U(e),d=J(u.next[0]),f=J(u.family.owners[0]);return"".concat(d,".on(").concat(f,")")}if(t.unit(e)){var l;if(null!=e&&null!==(l=e.compositeName)&&void 0!==l&&l.fullName)return e.compositeName.fullName;var m=L(e),p=m?"".concat(m,"/"):"";if(null!=e&&e.shortName)return"".concat(p).concat(e.shortName);if(null!=e&&e.name)return"".concat(p).concat(e.name)}return null!==(r=U(e))&&void 0!==r&&null!==(n=r.meta)&&void 0!==n&&n.name?U(e).meta.name:null}function L(e){var r=U(e).family.owners.find((e=>"domain"===e.meta.op));return r?J(r):null}function Q(e){var r=function(e){var{meta:r}=e;return"config"in r?r.config.loc:r.loc}(U(e));if(r)return r}function U(e){return"graphite"in e?e.graphite:e}function W(e){return e&&e.meta||{}}function X(){var n=2===arguments.length?{source:arguments.length<=0?void 0:arguments[0],timeout:arguments.length<=1?void 0:arguments[1]}:arguments.length<=0?void 0:arguments[0],{source:o,timeout:a,target:c=r({name:"target",sid:"jucb8d"})}=n,s=Array.isArray(c)?c:[c];if(!t.unit(o))throw new TypeError("source must be a unit from effector");if(!s.every((e=>t.unit(e))))throw new TypeError("target must be a unit from effector");var u=Y(a),d=l((e=>{var{payload:r,milliseconds:t}=e;return new Promise((e=>{setTimeout(e,t,r)}))}),{name:"timerFx",sid:"-wp3hwr"});return i({and:[{source:e({and:[{milliseconds:u}],or:{name:"source",sid:"-gaikyz"}}),clock:o,fn:(e,r)=>{var{milliseconds:t}=e;return{payload:r,milliseconds:"function"==typeof t?t(r):t}},target:d}],or:{sid:"-uuqxfw"}}),i({and:[{clock:d.doneData,target:s}],or:{sid:"-uc1x9m"}}),c}function Y(e){if(t.store(e,{sid:"-tvk3f2"})||"function"==typeof e||"number"==typeof e)return e;throw new TypeError("'timeout' argument must be a function, Store, or a number. Passed \"".concat(typeof e,'"'))}function Z(r,n,o){if(t.store(r,{sid:"ozzvoc"}))return e({and:[r,n,o,(e,r,t)=>e?r:t,{skipVoid:!1}],or:{sid:"-5vau2h"}});var i=r;return Z(i.filter,i.then,i.other)}function ee(e){return e.map((e=>null==e),{skipVoid:!1})}function re(r,t){return e({and:[r,t,(e,r)=>e===r,{skipVoid:!1}],or:{sid:"-pqjlti"}})}function te(r,n){var o,i=[],a=()=>!1;Array.isArray(r)?(i=r,a=n):Array.isArray(r.stores)&&(i=r.stores,a=r.predicate),o="function"==typeof a?a:t.store(a,{sid:"sid3ut"})?a.map((e=>r=>e===r),{skipVoid:!1}):e=>e===a;var c=e({and:[i],or:{name:"$values",sid:"rwb5jx"}});return e({and:[o,c,(e,r)=>r.every(e),{skipVoid:!1}],or:{sid:"hgnz2z"}})}function ne(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e({and:[n,e=>r.reduce(((t,n,o)=>t.concat(ie(r,o)?n:"".concat(n).concat(oe(e[o])))),""),{skipVoid:!1}],or:{sid:"-yrbthp"}})}function oe(e){return Array.isArray(e)?e.map((e=>String(e))).join(", "):String(e)}function ie(e,r){return r===e.length-1}function ae(r){var t=Array.isArray(r)?{effects:r}:r,{effects:n,domain:o}=t;if(o){var i=o.createStore(0,{name:"$inFlight",sid:"-wboyn1"});return o.onCreateEffect((e=>{i.on(e,(e=>e+1)).on(e.finally,(e=>e-1))})),i}return e({and:[n.map((e=>e.inFlight)),e=>e.reduce(((e,r)=>e+r),0),{skipVoid:!1}],or:{sid:"udy3nn"}})}function ce(e){var{timeout:n,start:a,stop:s,leading:u=!1,trailing:d=!1}=e,f=r({name:"setup",sid:"-ajee8b"});a&&i({and:[{clock:a,target:f}],or:{sid:"-wq30tc"}});var l=r({name:"teardown",sid:"-on6wf8"});s&&i({and:[{clock:s,target:l}],or:{sid:"-wloo2g"}});var m=r({name:"tick",sid:"37avek"}),p=o(!1,{name:"$isRunning",sid:"amqfro"}),v=function(e){if(t.store(e,{sid:"90rxd3"}))return e;if("number"==typeof e)return o(e,{and:{name:"$timeout"},sid:"-3ibdj9"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}(n),g=p.map((e=>!e),{skipVoid:!1}),y=r({name:"saveTimeout",sid:"-goth3o"}),h=o(null,{name:"$timeoutId",sid:"xi134t"}).on(y,((e,r)=>{var{timeoutId:t}=r;return t})),b=o((()=>{}),{name:"$rejecter",sid:"-2am6sk"}).on(y,((e,r)=>{var{reject:t}=r;return t})),k=c({and:{source:{timeout:v,running:p},effect:e=>{var{timeout:r,running:t}=e;return t?new Promise(((e,t)=>{var n=setTimeout(e,r);y({timeoutId:n,reject:t})})):Promise.reject()}},or:{name:"timeoutFx",sid:"-hiem3q"}}),w=c({and:{source:{timeoutId:h,rejecter:b},effect:e=>{var{timeoutId:r,rejecter:t}=e;t(),r&&clearTimeout(r)}},or:{name:"cleanupFx",sid:"d148gq"}});if(i({and:[{clock:f,source:v,filter:g,target:k}],or:{sid:"-u9k5bx"}}),u){var j=i({and:[{clock:f,filter:g}],or:{name:"onReady",sid:"5o8c6v"}});i({and:[{clock:j,target:m}],or:{sid:"6njtce"}})}return i({and:[{clock:f,fn:()=>!0,target:p}],or:{sid:"6p772r"}}),i({and:[{clock:k.done,source:v,filter:p,target:k}],or:{sid:"741n3i"}}),i({and:[{clock:k.done,filter:p,target:m.prepend((()=>{}))}],or:{sid:"7jfvpm"}}),d&&i({and:[{clock:l,target:m}],or:{sid:"7zxpk6"}}),p.on(l,(()=>!1)),i({and:[{clock:l,target:w}],or:{sid:"84c29c"}}),{tick:m,isRunning:p,"@@trigger":()=>({setup:f,teardown:l,fired:m})}}function se(e){return e.map((e=>!e),{skipVoid:!1})}function ue(e){var r,n;t.unit(e)?r=e:({source:r,reset:n}=e);var a=o(!0,{name:"$canTrigger",sid:"ys2jl0"}),c=i({and:[{source:r,filter:a}],or:{name:"trigger",sid:"e3xto3"}});return a.on(c,(()=>!1)),n&&a.reset(n),c}function de(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return e({and:[t,e=>{for(var r of e)if(r)return!0;return!1},{skipVoid:!1}],or:{sid:"-44722k"}})}var fe={some:e=>e.some(Boolean),every:e=>e.every(Boolean)};function le(r){var n=Array.isArray(r)?{effects:r}:r,{effects:o,domain:i,of:a="some"}=n;if(!t.domain(i,{sid:"98ymuf"})&&!o)throw new TypeError("domain or effects should be passed");if("some"!==a&&"every"!==a)throw new TypeError('strategy parameter "of" can be "every" or "some". Passed: "'.concat(a,'"'));var c=null!=o?o:[],s=fe[a];return i&&(c=[],i.onCreateEffect((e=>c.push(e)))),e({and:[c.map((e=>e.pending)),s,{skipVoid:!1}],or:{sid:"a4upb3"}})}function me(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var[i]=r,a=r.length<2?null:r[1];if(!t.store(i,{sid:"mzq5dc"}))throw Error("previous first argument should be a store");var c=o(a,{and:{serialize:"ignore",skipVoid:!1},name:"$prevValue",sid:"e05yob"}),s=i.graphite;return s.seq.push(d.compute({fn:(e,r,t)=>(m({target:c,params:t.a,defer:!0}),e)})),c}function pe(e){return t.targetable(e)?t.store(e,{sid:"-kqkmsc"})?e.map((e=>e),{skipVoid:!1}):t.event(e,{sid:"-kodgew"})?e.map((e=>e)):e:e}function ve(e){var{clock:t,target:n}=e,o=Array.isArray(n)?n:[n],i=Array.isArray(t)?t:[null!=t?t:r({name:"clocks",sid:"bqmea5"})];return o.forEach((e=>{e.reset(i)})),void 0===t?i[0]:void 0}function ge(e){var{source:r,shape:t}=e,n={},o=function(e){if(!Object.prototype.hasOwnProperty.call(t,e))return"continue";var o=t[e];n[e]=r.map((e=>{var r=o(e);return void 0===r?null:r}),{skipVoid:!1})};for(var i in t)o(i);return n}function ye(e){var{source:r,clock:t,fn:n=(e=>e)}=e,a=n(r.defaultState),c=i(t?{and:[{source:r,clock:t,fn:n}],or:{name:"onSnapshot",sid:"-imuiws"}}:{and:[{source:r,fn:n}],or:{name:"onSnapshot",sid:"-imaqbf"}}),s=o(a,{name:"$snapshot",sid:"-63s6pn"});return s.on(c,((e,r)=>r)),s}function he(r,n){var o,i=[],a=()=>!1;Array.isArray(r)?(i=r,a=n):Array.isArray(r.stores)&&(i=r.stores,a=r.predicate),o="function"==typeof a?a:t.store(a,{sid:"zbwu0l"})?a.map((e=>r=>e===r),{skipVoid:!1}):e=>e===a;var c=e({and:[i],or:{name:"$values",sid:"-kx24vm"}});return e({and:[o,c,(e,r)=>r.some(e),{skipVoid:!1}],or:{sid:"-ee8kph"}})}function be(e){var{source:r,cases:n}=e,o={},i=t.store(r,{name:"current",sid:"-htjkz7"})?r.updates:r;for(var a in n)a in n&&function(){var e=n[a];o[a]=i.filterMap(e),i=i.filter({fn:r=>!e(r)})}();return o.__=i,o}var ke={}.hasOwnProperty;function we(e){var n=function(e){return Object.keys(e).some((r=>!["targets","source"].includes(r)&&t.unit(e[r])))}(e)?{targets:e}:e,{targets:o,source:a=r({name:"source",sid:"e9ipnn"})}=n,c=function(e){if(n=o,c=e,ke.call(n,c)){var r=o[e],t=i({and:[{source:a,batch:!1,filter:r=>"object"==typeof r&&null!==r&&e in r}],or:{name:"hasTargetKey",sid:"eapc0z"}});i({and:[{batch:!1,clock:t,fn:r=>r[e],target:r}],or:{sid:"mkzcy4"}})}var n,c};for(var s in o)c(s);return a}function je(e){var{effect:r,defaultValue:n="initial"}=t.effect(e,{sid:"cn6w5b"})?{effect:e}:e,i=o(n,{name:"$status",sid:"ph7d4u"});if(!t.effect(r,{sid:"-kp39vu"}))throw TypeError('status: "effect" property is not an effect');return i.on(r,(()=>"pending")).on(r.done,(()=>"done")).on(r.fail,(()=>"fail")),i}function Oe(){var e=2===arguments.length?{source:arguments.length<=0?void 0:arguments[0],timeout:arguments.length<=1?void 0:arguments[1]}:arguments.length<=0?void 0:arguments[0],{source:n,timeout:a,target:c=r({name:"target",sid:"-gyhb56"})}=e;if(!t.unit(n))throw new TypeError("source must be unit from effector");var s=Ee(a),u=l({name:"throttle(".concat(n.shortName||n.kind,") effect"),handler:e=>new Promise((r=>setTimeout(r,e)))},{name:"timerFx",sid:"-lp5bot"}),d=o(null,{and:{serialize:"ignore",skipVoid:!1},name:"$payload",sid:"w71tnu"}).on(n,((e,r)=>r)),f=r({name:"triggerTick",sid:"-dquigt"}),m=o(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"e2dxhp"}).on(f,(()=>!1)).on(c,(()=>!0));return i({and:[{clock:n,filter:m,target:f}],or:{sid:"-hifwv4"}}),i({and:[{source:s,clock:f,target:u}],or:{sid:"-h3lgud"}}),i({and:[{source:d,clock:u.done,target:c}],or:{sid:"-h0apa7"}}),c}function Ee(e){if(t.store(e,{sid:"-gj92sk"}))return e;if("number"==typeof e){if(e<0||!Number.isFinite(e))throw new Error('timeout must be positive number or zero. Received: "'.concat(e,'"'));return o(e,{and:{name:"$timeout"},sid:"-2ktcsz"})}throw new TypeError('timeout parameter should be number or Store. "'.concat(typeof e,'" was passed'))}var Te=()=>Date.now();function Pe(e){var r=t.unit(e)?{clock:e}:e,{clock:n,getNow:o,initial:a}=r,c=null!=o?o:Te,s=l(c,{name:"readNowFx",sid:"ito90c"}),u=p(s,null!=a?a:c(),{name:"$time",sid:"-k3vl4d"});return i({and:[{clock:n,target:s}],or:{sid:"rul0o2"}}),u}export{v as and,h as combineEvents,k as condition,j as debounce,S as debug,X as delay,Z as either,ee as empty,re as equals,te as every,ne as format,ae as inFlight,ce as interval,se as not,ue as once,de as or,le as pending,me as previous,pe as readonly,ve as reset,ge as reshape,ye as snapshot,he as some,be as splitMap,we as spread,je as status,Oe as throttle,Pe as time};
//# sourceMappingURL=patronum.js.map
